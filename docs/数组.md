## 498.对角线遍历
### 题目
给你一个大小为 m x n 的矩阵 mat ，请以对角线遍历的顺序，用一个数组返回这个矩阵中的所有元素。
![](./images/array-1.jpg)
```js
输入：mat = [[1,2,3],[4,5,6],[7,8,9]]
输出：[1,2,4,7,5,3,6,8,9]
```
### 答案
```js
/**
 * @param {number[][]} mat
 * @return {number[]}
 */
var findDiagonalOrder = function(mat) {
  if (!mat || !mat.length) {
    return [];
  }

  let r = 0;
  let c = 0;
  const rows = mat.length;
  const cols = mat[0].length;
  const res = [];
  
  // 遍历的次数等于总个数
  for (let i = 0; i < rows * cols; i++) {
    res[i] = mat[r][c];
    // 遍历的方向由层数（横纵坐标之和）决定的，偶右上奇左下
    if ((r + c) % 2 === 0) {
      if (c === cols - 1) {
        // 往下移动，准备向左下遍历
        r++;
      } else if (r === 0) {
        // 往右移动，准备向左下遍历
        c++;
      } else {
        // 右上方移动
        c++;
        r--;
      }
    } else {
      if (r === rows - 1) {
        // 向右移动，准备向右上方遍历
        c++;
      } else if (c === 0) {
        // 向下移动，准备向右上方遍历
        r++;
      } else {
        // 左下方移动
        c--;
        r++;
      }
    }
  }

  return res;
};
```
该题目需要总结出：遍历的方向由层数（横纵坐标之和）决定的，偶右上奇左下，这个规律。之后通过遍历总的个数，和控制当前行和列的位置来完成数组的构成。其中需要处理一些临界点，例如向右上方遍历的时候会存在 **上面** 和 **右面** 两个临界位置。